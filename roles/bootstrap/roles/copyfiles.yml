---
### Copy over utility scripts and oyher files we might need
#

- name: Is the cpu_gov script present?
  stat:
    path: "{{ bin_dir }}/{{ cpu_gov }}"
    register: cpugov
  tags:
    - scripts

- name: is irq_balance present?
  stat:
    path: "{{ bin_dir }}/{{ irq_bal }}"
  register: irqbal
  tags:
     - scripts

  ###--- Using Debug statements
  #
  #- name: Test5
  #  debug:
  #    msg: "Ansible When File Not Present Example."
  #  when: not isdctrpm.stat.exists

  #- name: Test6
  #  debug:
  #    msg: "Ansible When File Not Present Example."
  #  when: not cpugov.stat.exists

  #- name: Test7
  #  debug:
  #    msg: "Ansible When File Not Present Example."
  #  when: not irqbal.stat.exists

  # 
  ###--- Copy the scripts over if needed
  #

- name:  Copy cpu_gov.sh
  copy:
    remote_src: no
    src: "{{ cpu_gov }}"
    dest: "{{ bin_dir }}"
    mode: 0744
  when: not cpugov.stat.exists
  tags:
    -tools

- name:  Copy irq_balance.sh
  copy:
    remote_src: no
    src: "{{ irq_bal }}"
    dest: "{{ bin_dir }}"
    mode: 0744
  when: not irqbal.stat.exists
  tags:
    -tools

